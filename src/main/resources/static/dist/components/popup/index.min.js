!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.vuxPopup=n():t.vuxPopup=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=40)}([function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n,e){t.exports=!e(2)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var e=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:e)(t)}},function(t,n,e){var o=e(26),i=e(5);t.exports=function(t){return o(i(t))}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(13),i=e.n(o),r=e(12);n.default={props:{value:Boolean,height:{type:String,default:"auto"},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0}},mounted:function(){var t=this;this.$nextTick(function(){var n=t;t.popup=new r.a({container:n.$el,innerHTML:"",hideOnBlur:n.hideOnBlur,onOpen:function(){n.fixSafariOverflowScrolling("auto"),n.show=!0},onClose:function(){n.show=!1,i()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){n.fixSafariOverflowScrolling("touch")},300)}}),t.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling")})},methods:{fixSafariOverflowScrolling:function(t){if(this.$overflowScrollingList.length)for(var n=0;n<this.$overflowScrollingList.length;n++)this.$overflowScrollingList[n].style.webkitOverflowScrolling=t}},data:function(){return{hasFirstShow:!1,show:this.value}},computed:{styles:function t(){var t={height:this.height};return this.isTransparent&&(t.background="transparent"),t}},watch:{show:function(t){this.$emit("input",t),t?(this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)):(this.$emit("on-hide"),document.querySelector(".vux-popup-dialog.vux-popup-show")||this.fixSafariOverflowScrolling("touch"),this.show=!1,this.popup.hide(!1))},value:function(t){this.show=t}},beforeDestroy:function(){this.popup.destroy(),this.fixSafariOverflowScrolling("touch")}}},function(t,n){},function(t,n){t.exports=function(t,n,e,o){var i,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,r=t.default);var u="function"==typeof r?r.options:r;if(n&&(u.render=n.render,u.staticRenderFns=n.staticRenderFns),e&&(u._scopeId=e),o){var a=Object.create(u.computed||null);Object.keys(o).forEach(function(t){var n=o[t];a[t]=function(){return n}}),u.computed=a}return{esModule:i,exports:r,options:u}}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"vux-popup-animate"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"vux-popup",style:t.styles},[t._t("default")],2)])},staticRenderFns:[]}},function(t,n,e){"use strict";window.__$vuxPopups=window.__$vuxPopups||{};var o=function(t){var n=this;this.uuid=Math.random().toString(36).substring(3,8),this.params={},this.isShow=!1,"[object Object]"===Object.prototype.toString.call(t)&&(this.params={input:t.input||"",container:document.querySelector(t.input)||"",innerHTML:t.innerHTML||"",hideOnBlur:t.hideOnBlur,onOpen:t.onOpen||function(){},onClose:t.onClose||function(){}}),!!document.querySelectorAll(".vux-popup-mask").length<=0&&(this.divMask=document.createElement("a"),this.divMask.className="vux-popup-mask",this.divMask.dataset.uuid="",this.divMask.href="javascript:void(0)",document.body.appendChild(this.divMask));var e=void 0;return e=t.container?t.container:document.createElement("div"),e.className="vux-popup-dialog vux-popup-dialog-"+this.uuid,this.params.hideOnBlur||(e.className+=" vux-popup-mask-disabled"),this.div=e,t.container||document.body.appendChild(e),this.container=document.querySelector(".vux-popup-dialog-"+this.uuid),this.mask=document.querySelector(".vux-popup-mask"),this.mask.dataset.uuid+=","+this.uuid,this._bindEvents(),t=null,this.containerHandler=function(){n.mask&&!/show/.test(n.mask.className)&&setTimeout(function(){!/show/.test(n.mask.className)&&(n.mask.style.zIndex=-1)},200)},this.container.addEventListener("webkitTransitionEnd",this.containerHandler),this.container.addEventListener("transitionend",this.containerHandler),this};o.prototype.onClickMask=function(){this.params.hideOnBlur&&this.params.onClose()},o.prototype._bindEvents=function(){this.params.hideOnBlur&&this.mask.addEventListener("click",this.onClickMask.bind(this),!1)},o.prototype.show=function(){this.mask.classList.add("vux-popup-show"),this.mask.style.zIndex=500,this.container.classList.add("vux-popup-show"),this.container.classList.contains("vux-popup")&&(this.container.classList.remove("vux-popup"),this.container.classList.add("vux-popup-dialog"),this.container.classList.add("vux-popup-dialog"+this.uuid)),this.params.onOpen&&this.params.onOpen(this),this.isShow=!0,window.__$vuxPopups[this.uuid]=1},o.prototype.hide=function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.container.classList.remove("vux-popup-show"),document.querySelector(".vux-popup-dialog.vux-popup-show")||(this.mask.classList.remove("vux-popup-show"),setTimeout(function(){t.mask&&!/show/.test(t.mask.className)&&(t.mask.style.zIndex=-1)},400)),this.container.classList.contains("vux-popup")&&(this.container.classList.remove("vux-popup"),this.container.classList.add("vux-popup-dialog"),this.container.classList.add("vux-popup-dialog"+this.uuid)),n===!1&&this.params.onClose&&this.params.hideOnBlur&&this.params.onClose(this),this.isShow=!1,delete window.__$vuxPopups[this.uuid]},o.prototype.html=function(t){this.container.innerHTML=t},o.prototype.destroy=function(){this.mask.dataset.uuid=this.mask.dataset.uuid.replace(new RegExp(","+this.uuid,"g"),""),this.mask.dataset.uuid?this.hide():(this.mask.removeEventListener("click",this.onClickMask.bind(this),!1),this.mask&&this.mask.parentNode&&this.mask.parentNode.removeChild(this.mask)),this.container.removeEventListener("webkitTransitionEnd",this.containerHandler),this.container.removeEventListener("transitionend",this.containerHandler),delete window.__$vuxPopups[this.uuid]},n.a=o},function(t,n,e){t.exports={default:e(14),__esModule:!0}},function(t,n,e){e(39),t.exports=e(0).Object.keys},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var o=e(4);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){var o=e(7),i=e(35),r=e(34);t.exports=function(t){return function(n,e,s){var u,a=o(n),c=i(a.length),p=r(s,c);if(t&&e!=e){for(;c>p;)if((u=a[p++])!=u)return!0}else for(;c>p;p++)if((t||p in a)&&a[p]===e)return t||p||0;return!t&&-1}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var o=e(15);t.exports=function(t,n,e){if(o(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,o){return t.call(n,e,o)};case 3:return function(e,o,i){return t.call(n,e,o,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var o=e(4),i=e(3).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var o=e(3),i=e(0),r=e(19),s=e(24),u="prototype",a=function(t,n,e){var c,p,f,l=t&a.F,h=t&a.G,d=t&a.S,v=t&a.P,m=t&a.B,x=t&a.W,w=h?i:i[n]||(i[n]={}),y=w[u],g=h?o:d?o[n]:(o[n]||{})[u];h&&(e=n);for(c in e)(p=!l&&g&&void 0!==g[c])&&c in w||(f=p?g[c]:e[c],w[c]=h&&"function"!=typeof g[c]?e[c]:m&&p?r(f,o):x&&g[c]==f?function(t){var n=function(n,e,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,o)}return t.apply(this,arguments)};return n[u]=t[u],n}(f):v&&"function"==typeof f?r(Function.call,f):f,v&&((w.virtual||(w.virtual={}))[c]=f,t&a.R&&y&&!y[c]&&s(y,c,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var o=e(27),i=e(31);t.exports=e(1)?function(t,n,e){return o.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){t.exports=!e(1)&&!e(2)(function(){return 7!=Object.defineProperty(e(20)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){var o=e(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,n,e){var o=e(16),i=e(25),r=e(37),s=Object.defineProperty;n.f=e(1)?Object.defineProperty:function(t,n,e){if(o(t),n=r(n,!0),o(e),i)try{return s(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var o=e(23),i=e(7),r=e(17)(!1),s=e(32)("IE_PROTO");t.exports=function(t,n){var e,u=i(t),a=0,c=[];for(e in u)e!=s&&o(u,e)&&c.push(e);for(;n.length>a;)o(u,e=n[a++])&&(~r(c,e)||c.push(e));return c}},function(t,n,e){var o=e(28),i=e(21);t.exports=Object.keys||function(t){return o(t,i)}},function(t,n,e){var o=e(22),i=e(0),r=e(2);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],s={};s[t]=n(e),o(o.S+o.F*r(function(){e(1)}),"Object",s)}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){var o=e(33)("keys"),i=e(38);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,n,e){var o=e(3),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,n,e){var o=e(6),i=Math.max,r=Math.min;t.exports=function(t,n){return t=o(t),t<0?i(t+n,0):r(t,n)}},function(t,n,e){var o=e(6),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,n,e){var o=e(5);t.exports=function(t){return Object(o(t))}},function(t,n,e){var o=e(4);t.exports=function(t,n){if(!o(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!o(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!o(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!o(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n){var e=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+o).toString(36))}},function(t,n,e){var o=e(36),i=e(29);e(30)("keys",function(){return function(t){return i(o(t))}})},function(t,n,e){e(9);var o=e(10)(e(8),e(11),null,null);t.exports=o.exports}])});